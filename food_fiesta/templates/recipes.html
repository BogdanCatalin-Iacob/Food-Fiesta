{% extends "base.html" %}

{% block content %}

<h1 class="deep-orange-text text-darken-4 center-align">Recipes</h1>

<ul class="collapsible">
    {% for recipe in recipes %}
    <li>
        <div class="collapsible-header black-text grey lighten-4 text-shadow">
            <div class="col s3">
                <!-- check if the logged in user is the same as creator of the recipe -->
                {% if session.user|lower == recipe.created_by|lower %}
                    <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}"
                        class="teal lighten-5 black-text waves-effect waves-light btn-small">Edit</a>
                    <a href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}"
                        class="deep-orange white-text waves-effect waves-light btn-small modal-trigger">Delete</a>
                {% endif %}
                    <i class="fas fa-caret-down"></i><strong>{{ recipe.recipe_name }} : </strong><span>&nbsp; servings:
                        {{ recipe.servings }}</span>
            </div>
        </div>
        <div class="collapsible-body">
            <div class="row">
                <div class="col s12 m6 l3">Total time : &nbsp{{ recipe.total_time }}</div>
                <div class="col s12 m6 l3">Preparation time : &nbsp{{ recipe.prep_time }}</div>
                <div class="col s12 m6 l3">Cooking time : &nbsp{{ recipe.cook_time }}</div>
                <div class="col s12 m6 l3">Recipe by : &nbsp{{ recipe.created_by }}</div>
            </div>
        </div>
    </li>
    {% endfor %}

    {% endblock %}